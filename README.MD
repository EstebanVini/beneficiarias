#   <img src="/static/description/favicon.png" alt="Logo Pridecta" width="40" height="40" style="border-radius:50%; vertical-align:middle; margin-left:10px;"/> Odoo 17 â€“ MÃ³dulo de Registro de Beneficiarias para VIFAC MÃ©xico
![Logo VIFAC](/static/description/logo-vifac-sin_fondo.png)

## 1. DescripciÃ³n ğŸ“‹

Este mÃ³dulo para **Odoo 17 Community** fue creado especialmente para **VIFAC MÃ©xico**, con el objetivo de **agilizar el registro y seguimiento integral** de mujeres embarazadas en situaciÃ³n vulnerable (â€œBeneficiariasâ€).  
Centraliza datos personales, control por etapas, evidencia documental, valoraciones, talleres, traslados y red familiar, ofreciendo una vista 360Â° del expediente.

---

## 2. Estructura del mÃ³dulo ğŸ“‚

```text
beneficiarias/
â”œâ”€â”€ .gitattributes
â”œâ”€â”€ .gitignore
â”œâ”€â”€ README.MD
â”œâ”€â”€ __init__.py
â”œâ”€â”€ __manifest__.py
â”œâ”€â”€ data/
â”‚   â””â”€â”€ stages.xml
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ bebes/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ bebe.py
â”‚   â”œâ”€â”€ beneficiarias/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ beneficiaria.py
â”‚   â”‚   â”œâ”€â”€ geo_city.py
â”‚   â”‚   â”œâ”€â”€ hermanos.py
â”‚   â”‚   â”œâ”€â”€ preview_image_wizard.py
â”‚   â”‚   â”œâ”€â”€ stage.py
â”‚   â”‚   â”œâ”€â”€ taller.py
â”‚   â”‚   â”œâ”€â”€ traslados.py
â”‚   â”‚   â””â”€â”€ valoracion.py
â”‚   â”œâ”€â”€ documentos/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ documento.py
â”‚   â”œâ”€â”€ hijos/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ hijo.py
â”‚   â””â”€â”€ padres_adoptivos/
â”‚       â”œâ”€â”€ __init__.py
â”‚       â””â”€â”€ papas_adoptivos.py
â”œâ”€â”€ security/
â”‚   â”œâ”€â”€ beneficiarias_security.xml
â”‚   â””â”€â”€ ir.model.access.csv
â”œâ”€â”€ static/
â”‚   â”œâ”€â”€ description/
â”‚   â”‚   â”œâ”€â”€ icon.png
â”‚   â”‚   â””â”€â”€ icon2.png
â”‚   â””â”€â”€ src/
â”‚       â””â”€â”€ css/
â”‚           â””â”€â”€ beneficiarias_tabs.css
â””â”€â”€ views/
    â”œâ”€â”€ bebes/
    â”‚   â””â”€â”€ bebe_views.xml
    â”œâ”€â”€ beneficiaria/
    â”‚   â”œâ”€â”€ beneficiaria_form.xml
    â”‚   â”œâ”€â”€ beneficiaria_kanban.xml
    â”‚   â”œâ”€â”€ beneficiaria_search_view.xml
    â”‚   â”œâ”€â”€ beneficiaria_tree.xml
    â”‚   â”œâ”€â”€ documento_views.xml
    â”‚   â”œâ”€â”€ preview_image_wizard_views.xml
    â”‚   â””â”€â”€ stage_views.xml
    â”œâ”€â”€ hijos/
    â”‚   â””â”€â”€ hijo_views.xml
    â”œâ”€â”€ papas_adoptivos/
    â”‚   â””â”€â”€ papas_adoptivos_views.xml
    â””â”€â”€ beneficiarias_views.xml
```

---

## 3. Compatibilidad y dependencias ğŸ§©

- **VersiÃ³n de Odoo:** 17.0 (Community)  
- **Dependencias:** `base`, `web`  
- **Licencia:** LGPL-3 (definida en `__manifest__.py`)  
- **Activos web:** CSS para pestaÃ±as y grilla de imÃ¡genes (`static/src/css/beneficiarias_tabs.css`)

---

## 4. InstalaciÃ³n ğŸš€

1. Copia la carpeta `beneficiarias/` dentro de tu ruta de **addons**.  
2. Inicia Odoo con la ruta de addons correspondiente.  
3. Activa **Modo Desarrollador**.  
4. Ve a **Apps** â†’ **Actualizar lista de aplicaciones**.  
5. Busca **â€œBeneficiariasâ€** e instala.

---

## 5. ConfiguraciÃ³n inicial âš™ï¸

El mÃ³dulo crea el catÃ¡logo de **Etapas** (`beneficiarias.stage`) desde `data/stages.xml`:
- Pre-Ingreso â†’ En AtenciÃ³n â†’ Seguimiento Post AtenciÃ³n â†’ ConclusiÃ³n del servicio.  
Estas etapas alimentan el **statusbar** y la vista **kanban** del expediente.

---

## 6. Modelos y funcionalidad detallada ğŸ—ï¸

### 6.1. Expediente principal â€” `beneficiarias.beneficiaria`
- **IdentificaciÃ³n y bÃ¡sicos:** nombre completo, **CURP**, **RFC**, fecha de nacimiento e **ingreso**, **edad_ingreso** y **rango** etario.  
- **Contacto y contexto:** telÃ©fonos, correo, escolaridad, ocupaciÃ³n, estado civil, religiÃ³n, nacionalidad, vivienda, referencias.  
- **Embarazo y atenciÃ³n:** FUM, semanas, controles prenatales, parto, apoyos mÃ©dicos/psicolÃ³gicos/nutricionales/legales.  
- **ImÃ¡genes:** 4 fotos (perfil izq., frontal, perfil der., huellas) con **vista previa** vÃ­a wizard.  
- **Pipeline/Etapas:** relaciÃ³n `stage_id`, vista kanban y barra de estado clicable.  
- **Relaciones:** hijos, bebÃ©s, hermanos, traslados, talleres, valoraciones.  
- **Validaciones:** CURP, RFC y telÃ©fonos.  
- **Vistas:** formulario con pestaÃ±as y grilla de imÃ¡genes, kanban con foto circular, lista, bÃºsqueda avanzada.

### 6.2. DocumentaciÃ³n â€” `beneficiarias.documento`
- Contenedor de archivos adjuntos (PDF/imagen).  
- Asociado a beneficiaria, hijo, bebÃ©, taller o valoraciÃ³n.  
- Automatiza alta desde talleres y valoraciones.  
- Acciones para abrir en modal.

### 6.3. Hijos â€” `beneficiarias.hijo`
- Datos personales, escolares y acompaÃ±amiento.  
- Documentos: acta, CURP, cartilla, docs mÃ©dicos/escolares.  
- RelaciÃ³n con beneficiaria y documentos.  

### 6.4. BebÃ©s â€” `beneficiarias.bebe`
- Datos de nacimiento, salud, lactancia, egreso y registros.  
- RelaciÃ³n con beneficiaria, papÃ¡s adoptivos y documentos.

### 6.5. Padres adoptivos â€” `beneficiarias.papas_adoptivos`
- Datos de padre/madre adoptivos.  
- RelaciÃ³n con `beneficiarias.bebe`.

### 6.6. Valoraciones â€” `beneficiarias.valoracion`
- Valoraciones psicolÃ³gicas, socioeconÃ³micas, mÃ©dicas y pedagÃ³gicas.  
- Archivos adjuntos que generan documentos automÃ¡ticamente.  

### 6.7. Talleres â€” `beneficiarias.taller`
- Cursos y capacitaciones.  
- Genera automÃ¡ticamente documento de certificado.

### 6.8. Traslados â€” `beneficiarias.traslados`
- Registro de movimientos de beneficiaria entre sedes.  

### 6.9. Hermanos â€” `beneficiarias.hermano`
- Datos de hermanos y validaciÃ³n de telÃ©fonos.  

### 6.10. Etapas â€” `beneficiarias.stage`
- Define pipeline (Pre-Ingreso, AtenciÃ³n, Seguimiento, ConclusiÃ³n).  

### 6.11. CatÃ¡logo ciudades â€” `geo.city`
- RelaciÃ³n ciudad â†’ estado â†’ paÃ­s.  
- Preparado para domicilios, aÃºn no usado en vistas.  

### 6.12. Wizard de imÃ¡genes â€” `preview.image.wizard`
- Popup transitorio para previsualizar imÃ¡genes en alta resoluciÃ³n.

---

## 7. Vistas y navegaciÃ³n ğŸ§­

- **MenÃº principal:** Beneficiarias.  
- **SubmenÃºs:** Registro, Hijos, BebÃ©s, Padres adoptivos, Etapas.  
- **Vistas:** Formulario, Kanban, Lista, BÃºsqueda avanzada, Modal de documentos.

---

## 8. Seguridad ğŸ”’

- Accesos CRUD abiertos a `base.group_user` en todos los modelos.  
- `beneficiarias_security.xml` preparado para extensiones.

---

## 9. Diagrama ASCII â€” Modelo de datos ğŸ§©

```text
                                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                     â”‚   beneficiarias.stage â”‚
                                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                 â”‚  *..1  (statusbar/kanban)
                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                           â”‚         beneficiarias.beneficiaria        â”‚
                           â”‚  (expediente: datos, CURP/RFC, fotos,     â”‚
                           â”‚   embarazo, ingreso/egreso, seguimiento)  â”‚
                           â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                               â”‚1..*      â”‚1..*      â”‚1..*      â”‚1..*  â”‚1..*     â”‚1..*
                               â”‚          â”‚          â”‚          â”‚      â”‚         â”‚
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”  â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚ benefic.    â”‚  â”‚ benefic.     â”‚  â”‚ benefic.     â”‚ â”‚ benefic.      â”‚ â”‚ benefic.        â”‚
                     â”‚   hijo      â”‚  â”‚    bebe      â”‚  â”‚   hermano     â”‚ â”‚  traslados     â”‚ â”‚   taller         â”‚
                     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚1..*          â”‚1..*                               â”‚                     â”‚1..*
                            â”‚              â”‚                                   â”‚                     â”‚
                        â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚                 â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚ documento  â”‚  â”‚ papas_adoptivos â”‚                   â”‚                 â”‚ documento  â”‚
                        â”‚ (hijo)     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚                 â”‚ (taller)   â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â–²                               â”‚                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                               â”‚                               â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
                        â”‚           documento (bebe)                  â”‚        â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
                                                                               â”‚
                                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                           â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       1..*        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                           â”‚ beneficiarias â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ documento    â”‚
                           â”‚  .valoracion  â”‚                   â”‚ (valoraciÃ³n) â”‚
                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Extras/auxiliares:
- preview.image.wizard (Transient) â† se abre desde beneficiaria para ver fotos
- geo.city â†’ catÃ¡logo de ciudades (no referenciado aÃºn en formularios)
- Relaciones externas tÃ­picas: res.country/state, res.users (asignados), etc.
```

---

## 10. CrÃ©ditos âœï¸

- **Autor:** Esteban Viniegra PÃ©rez Olagaray  
  <img src="/static/description/Esteban_Viniegra.jpeg" alt="Foto Esteban" width="40" height="40" style="border-radius:50%; vertical-align:middle; margin-left:10px;"/>

- **CompaÃ±Ã­a:** Pridecta  
  <img src="/static/description/favicon.png" alt="Logo Pridecta" width="40" height="40" style="border-radius:50%; vertical-align:middle; margin-left:10px;"/>

- **Sitio:** https://pridecta.es  
- **Licencia:** LGPL-3

--- 

> **Tip de uso:** desde **Beneficiarias â†’ Registro de Beneficiarias**, crea un expediente, adjunta fotos, registra hijos/bebÃ©s, aÃ±ade **Valoraciones** y **Talleres**; los **Documentos** se generan y pueden **previsualizarse** en modal.